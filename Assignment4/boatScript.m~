im1 = im2single(imread('img1.pgm'));
im2 = im2single(imread('img2.pgm'));

% subplot(1, 2, 1);
% imshow(im1, []);
% subplot(1, 2, 2);
% imshow(im2, []);

[ bestM, bestT ] = computeAffineTransformation(im1, im2);

im2_flat = reshape(im2,size(im2,1)*size(im2,2),1);
